<!DOCTYPE html>
<html>

<head>
    <title>Customer</title>

    <style>
        .container {
            width: 400px;
            margin-left:50px;
			border:1px solid black;
        }
           .map{width:400px;  height:100px; border:1px solid black;}
    </style>
    <script src="data.js" type="text/javascript"></script>

</head>

<body>

<script type="text/javascript">

        var details = document.createElement('div');
       document.body.appendChild(details);
      details.setAttribute('class', 'container');
        for (var i = 0; i < data.length; i++) {
            var customer = document.createElement('div');
            details.appendChild(customer);
			 var fn = document.createElement('p');
            fn.innerHTML =i+1+") "+ data[i].firstName+" "+data[i].lastName;
            customer.appendChild(fn);
			var total_cost=0;
            for (var j = 0; j < data[i].orders.length; j++) {
			   var pname= document.createElement('span');
			  pname.innerHTML = " "+data[i].orders[j].productName;   
			  customer.appendChild(pname);
				var icost= document.createElement('span');
                icost.innerHTML = " "+data[i].orders[j].itemCost;
		       customer.appendChild(icost);

			    total_cost += data[i].orders[j].itemCost;
			  
			   
			   
            } //end j loop
			
		var cost= document.createElement('p');
			  cost.innerHTML = " Total cost: "+total_cost;   
			  customer.appendChild(cost);
			
			
				
				var map = document.createElement('div');
            map.setAttribute('class','map');
           customer.appendChild(map);
            var latitude_value=data[i].latitude;
			var longitude_value=data[i].longitude;

            var Gmap;
            function initMap() {
            Gmap = new google.maps.Map(document.getElementsByClassName('map'), {
            center: {lat: latitude_value , lng: longitude_value},
            zoom: 6
        }); 
    // customer.appendChild(Gmap);
			}
			}
			</script>		
			<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCGFXRg1GWxyzRjlcZD2T7ClzXe8S0XcPQ&callback=initMap" async defer>
    </script>
</body>
</html>